(function($){$(document).ready(function(){const themeToggleBtns=$('.theme-toggle-btn');const htmlElement=document.documentElement;const themeKey='yomooh_theme';const prefersDarkScheme=window.matchMedia('(prefers-color-scheme: dark)');function setTheme(theme){htmlElement.classList.add('no-theme-transition');htmlElement.setAttribute('data-theme',theme);$('.theme-switcher').each(function(){const $switcher=$(this);const isVersion2=$switcher.hasClass('version-2');if(isVersion2){const $thumb=$switcher.find('.theme-toggle-thumb');const $thumbIcon=$thumb.find('i');const $lightIcon=$switcher.find('.light-icon i');const $darkIcon=$switcher.find('.dark-icon i');if(theme==='dark'){$thumbIcon.removeClass($lightIcon.attr('class')).addClass($darkIcon.attr('class'))}else{$thumbIcon.removeClass($darkIcon.attr('class')).addClass($lightIcon.attr('class'))}}else{const $lightIcon=$switcher.find('.light-icon');const $darkIcon=$switcher.find('.dark-icon');if(theme==='dark'){$lightIcon.removeClass('active');$darkIcon.addClass('active')}else{$lightIcon.addClass('active');$darkIcon.removeClass('active')}}});document.cookie=`${themeKey}=${theme}; path=/; max-age=31536000`;setTimeout(()=>{htmlElement.classList.remove('no-theme-transition');document.body.style.visibility='visible';if(typeof yomoohTheme!=='undefined'&&yomoohTheme.customJS){try{}catch(e){console.error('Error executing custom JS:',e)}}},50)}
function toggleTheme(){const currentTheme=htmlElement.getAttribute('data-theme');const newTheme=currentTheme==='dark'?'light':'dark';setTheme(newTheme)}
function initTheme(){const savedTheme=document.cookie.split('; ').find(row=>row.startsWith(`${themeKey}=`));if(savedTheme){const theme=savedTheme.split('=')[1];setTheme(theme)}else{const systemPrefersDark=prefersDarkScheme.matches;setTheme(systemPrefersDark?'dark':'light')}}
if(themeToggleBtns.length){themeToggleBtns.on('click',toggleTheme)}
prefersDarkScheme.addEventListener('change',(e)=>{if(!document.cookie.includes(`${themeKey}=`)){setTheme(e.matches?'dark':'light')}});initTheme()})})(jQuery)